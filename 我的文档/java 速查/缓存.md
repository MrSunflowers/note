# Redis

## Redis 的数据类型

## Redis 工作模式

(一)纯内存操作
(二)单线程操作，避免了频繁的上下文切换
(三)采用了非阻塞I/O多路复用机制

## 一个字符串类型的值能存储最大容量是多少

## Redis 的持久化机制

## 缓存雪崩、缓存穿透、缓存预热、缓存更新、缓存降级等问题

## 布隆过滤器

## redis的过期策略以及内存淘汰机制

redis一般采用的是定期删除+惰性删除策略。

采用定期删除+惰性删除存在的问题

## 内存淘汰策略

应用 解决定期删除+惰性删除存在的问题

## 分布式锁的实现

## 为什么Redis的操作是原子性的，怎么保证原子性的？

## Redis事务

## Redis 的同步机制

## Jedis 与 Redisson 对比有什么优缺点

## 说说 Redis 哈希槽的概念

## Redis 集群的主从复制模型是怎样的

## Redis 集群会有写操作丢失吗？为什么？

## Redis 集群最大节点个数是多少

## Redis key 的过期时间和永久有效分别怎么设置

## Redis 如何做内存优化

尽可能使用散列表（hashes），散列表（是说散列表里面存储的数少）使用的内存非常小，所以你应该尽可能的将你的数据模型抽象到一
个散列表里面。比如你的 web 系统中有一个用户对象，不要为这个用户的名称，姓氏，邮箱，密码设置单独的 key,而是应该把这个用户的
所有信息存储到一张散列表里面.

## Redis 回收进程如何工作的

## 使用过 Redis 做异步队列么，你是怎么用的

## 一个 Redis 实例最多能存放多少的 keys？List、Set、Sorted Set 他们最多能存放多少元素

## 假如 Redis 里面有 1 亿个 key，其中有 10w 个 key 是以某个固定的已知的前缀开头的，如果将它们全部找出来

## keys 指令的问题

## redis 缓存击穿处理方案

分布式锁，保证一次只能有一个请求访问数据库，并更新缓存，其他请求只能等待该请求完成响应后，直接访问缓存数据。

[(37条消息) redis缓存数据更新问题 - CSDN](https://www.csdn.net/tags/Mtzakg5sMDAzNjgtYmxvZwO0O0OO0O0O.html)

[(37条消息) REDIS缓存穿透，缓存击穿，缓存雪崩原因+解决方案_有啥不一样的博客-CSDN博客_redis缓存击穿怎么解决](https://blog.csdn.net/soulweee/article/details/119179214)

## 高并发 redis 和数据库双写情况下，如何保证数据的一致性

通过MQ消息队列，更新数据库后使用消息队列更新缓存

## 如何解决由于redis主从节点不同步导致的分布式锁失效问题

使用 zookeeper ，红锁会引入更多得不偿失的问题，比如多次io操作，加锁失败处理，加锁过程中节点的原子性等

## Redis 常见性能问题和解决方案

(1) Master 最好不要做任何持久化工作，如 RDB 内存快照和 AOF 日志文件
(2) 如果数据比较重要，某个 Slave 开启 AOF 备份数据，策略设置为每秒同步一次
(3) 为了主从复制的速度和连接的稳定性， Master 和 Slave 最好在同一个局域网内
(4) 尽量避免在压力很大的主库上增加从库
(5) 主从复制不要用图状结构，用单向链表结构更为稳定，即： Master <- Slave1 <- Slave2 <-Slave3...

## 集群方案

### Redis 集群方案什么情况下会导致整个集群不可用？

## Pipeline 有什么好处，为什么要用 pipeline？

可以将多次 IO 往返的时间缩减为一次，前提是 pipeline 执行的指令之间没有因果相关性。使用 redis-benchmark 进行压测的时候可以发
现影响 redis 的 QPS峰值的一个重要因素是 pipeline 批次指令的数目。